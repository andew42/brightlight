<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <link rel="stylesheet" type="text/css" href="../css/stats.css">
    <link rel="shortcut icon" href="../img/favicon.png">
    <title>Bright Light Stats</title>
</head>

<body>
<div id='container' style="font-size: large"></div>
<script id='template' type='text/html'>
    <div class="white-background"></div>
    {{#socketConnected}}
    <table class="stats-table">
        <!-- Total Render Time -->
        <tr class="stats-table-row-frame">
            <td colspan="2">{{stats.FrameRenderTime.Name}}</td>
            <td class="stats-table-value-text">{{stats.FrameRenderTime.DroppedFrames}}</td>
        </tr>
        <tr class="stats-table-row-frame">
            <td class="stats-table-value-text">{{stats.FrameRenderTime.MinTime}}ms</td>
            <td class="stats-table-value-text">{{stats.FrameRenderTime.AverageTime}}ms</td>
            <td class="stats-table-value-text">{{stats.FrameRenderTime.MaxTime}}ms</td>
        </tr>

        <!-- Frame Sync Jitter -->
        <tr class="stats-table-row-frame">
            <td colspan="3">{{stats.FrameSyncJitter.Name}}</td>
        </tr>
        <tr class="stats-table-row-frame">
            <td class="stats-table-value-text">{{stats.FrameSyncJitter.MinTime}}ms</td>
            <td class="stats-table-value-text">{{stats.FrameSyncJitter.AverageTime}}ms</td>
            <td class="stats-table-value-text">{{stats.FrameSyncJitter.MaxTime}}ms</td>
        </tr>

        {{#stats.SerialSendTime}}
        <tr class="stats-table-row-frame">
            <td colspan="2">{{Name}}</td>
            <td class="stats-table-value-text">{{DroppedFrames}}</td>
        </tr>
        <tr class="stats-table-row-frame">
            <td class="stats-table-value-text">{{MinTime}}ms</td>
            <td class="stats-table-value-text">{{AverageTime}}ms</td>
            <td class="stats-table-value-text">{{MaxTime}}ms</td>
        </tr>
        {{/stats.SerialSendTime}}
        {{^stats.SerialSendTime}}
        <tr>
            <td></td>
            <td class="stats-light-controller-error">No Light Controller Connected</td>
            <td></td>
        </tr>
        {{/stats.SerialSendTime}}
        <tr>
            <td class="stats-table-annotation-text">Frame Period</td>
            <td class="stats-table-value-text">{{stats.FramePeriodMs}}ms</td>
            <td class="stats-table-value-text">{{stats.FrameRateHz}}Hz</td>
        </tr>
        <tr>
            <td class="stats-table-annotation-text">GC Count</td>
            <td class="stats-table-value-text">{{stats.GcCount}}</td>
            <td class="stats-table-value-text">{{stats.GcPauseTime}}ms</td>
        </tr>
    </table>
    {{/socketConnected}}
    <p>{{socketStatus}}</p>
    <div class="back-button">
        <div class="button-content" id="btnGoBack" on-tap="btnGoBack"></div>
    </div>
</script>
</body>

<script data-main="../js/stats.js" src="../js/require/require.js"></script>

</html>
