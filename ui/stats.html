<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <link rel="stylesheet" type="text/css" href="./css/common.css">
    <link rel="stylesheet" type="text/css" href="./css/stats.css">
    <title>Bright Light Stats</title>
</head>

<body>
<div class="status-bar"></div>

<div id='container' style="font-size: large"></div>
<script id='template' type='text/html'>
    {{#socketConnected}}
    <table class="stats-table">
        <tr class="stats-table-row-frame">
            <td class="stats-table-annotation-text">Avg Frame</td>
            <td class="stats-table-value-text">{{averageFrameTime}}ms</td>
        </tr>

        <tr class="stats-table-row-frame">
            <td class="stats-table-annotation-text">Min Frame</td>
            <td class="stats-table-value-text">{{minFrameTime}}ms</td>
            <td class="stats-table-value-text">{{latchedMinFrameTime}}ms</td>
        </tr>

        <tr class="stats-table-row-frame">
            <td class="stats-table-annotation-text">Max Frame</td>
            <td class="stats-table-value-text">{{maxFrameTime}}ms</td>
            <td class="stats-table-value-text">{{latchedMaxFrameTime}}ms</td>
        </tr>

        <tr class="stats-table-row-jitter">
            <td class="stats-table-annotation-text">Avg Jitter</td>
            <td class="stats-table-value-text">{{averageJitter}}ms</td>
        </tr>

        <tr class="stats-table-row-jitter">
            <td class="stats-table-annotation-text">Min Jitter</td>
            <td class="stats-table-value-text">{{minJitter}}ms</td>
            <td class="stats-table-value-text">{{latchedMinJitter}}ms</td>
        </tr>

        <tr class="stats-table-row-jitter">
            <td class="stats-table-annotation-text">Max Jitter</td>
            <td class="stats-table-value-text">{{maxJitter}}ms</td>
            <td class="stats-table-value-text">{{latchedMaxJitter}}ms</td>
        </tr>
        {{#showSendTimes}}
        <!-- Optional serial send statistics-->
        <tr class="stats-table-row-serial">
            <td class="stats-table-annotation-text">Avg Send</td>
            <td class="stats-table-value-text">{{averageSendTime}}ms</td>
        </tr>
        <tr class="stats-table-row-serial">
            <td class="stats-table-annotation-text">Min Send</td>
            <td class="stats-table-value-text">{{minSendTime}}ms</td>
            <td class="stats-table-value-text">{{latchedMinSendTime}}ms</td>
        </tr>
        <tr class="stats-table-row-serial">
            <td class="stats-table-annotation-text">Max Send</td>
            <td class="stats-table-value-text">{{maxSendTime}}ms</td>
            <td class="stats-table-value-text">{{latchedMaxSendTime}}ms</td>
        </tr>
        {{/showSendTimes}}
        {{^showSendTimes}}
        <td></td>
        <td class="stats-light-controller-error">No Light Controller Connected</td>
        <td></td>
        {{/showSendTimes}}
        <tr>
            <td></td>
            <td></td>
            <td class="button"><div class="button-content" id="btnReset" on-tap="btnReset"></div></td>
        </tr>
    </table>
    {{/socketConnected}}
    <p>{{socketStatus}}</p>
    <div class="back-button"><div class="button-content" id="btnGoBack" on-tap="btnGoBack"></div></div>
</script>
</body>
<script src="./thirdparty/ractive.js"></script>
<script src="./thirdparty/ractive-events-tap.js"></script>
<script src="./js/common.js"></script>
<script src="./js/stats.js"></script>
</html>
